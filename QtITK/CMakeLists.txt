CMAKE_MINIMUM_REQUIRED(VERSION 2.4)
IF(COMMAND CMAKE_POLICY)
  CMAKE_POLICY(SET CMP0003 NEW)
ENDIF(COMMAND CMAKE_POLICY)

PROJECT(QtITKExample)

SET( BUILD_OUTSIDE_INSIGHT_APPLICATIONS TRUE )

IF( BUILD_OUTSIDE_INSIGHT_APPLICATIONS )

  FIND_PACKAGE(ITK)
  IF(ITK_FOUND)
    INCLUDE(${ITK_USE_FILE})
  ELSE(ITK_FOUND)
    MESSAGE(FATAL_ERROR
            "Cannot build InsightApplications without ITK.  Please set ITK_DIR.")
  ENDIF(ITK_FOUND)

ENDIF( BUILD_OUTSIDE_INSIGHT_APPLICATIONS )

#
# Find QT
#
FIND_PACKAGE(Qt4 REQUIRED)
INCLUDE( ${QT_USE_FILE} )


SET(QtITK_SRCS itkQtProgressBar.cxx qtITK.cxx )

QT4_WRAP_CPP(QT_MOC_SRCS itkQtAdaptor.h itkQtLightIndicator.h)

ADD_EXECUTABLE(QtITK ${QtITK_SRCS} ${QT_MOC_SRCS})
TARGET_LINK_LIBRARIES(QtITK ITKIO ${QT_LIBRARIES})

INSTALL_TARGETS(/bin QtITK)

